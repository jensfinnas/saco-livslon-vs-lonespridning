function VizzitOverlay(){var a=this;var f=null;var e=null;var c=null;var d=null;var b="//www.vizzit.se";this.init=function(){var m=window.location.search.substr(1).split("&");for(var h=0;h<m.length;h++){var l=m[h];var n=l.indexOf("=");var g=l.substring(0,n);var k=l.substring(n+1,l.length);if(g==="vizzitO"){f=k}else{if(g==="vizzitD1"){e=k}else{if(g==="vizzitD2"){c=k}else{if(g==="vizzitS"){d=k}}}}}this.window()};this.run=function(){if(!a.check()){return false}a.load()};this.render=function(k){var h=document.getElementsByTagName("a");var g='<img class="vizzit-smiley" src="'+b+'/spider/overlay/img/smiley_big_sad.png" width="25" height="25" />';for(i in k.broken){for(j in h){if(h[j].href===undefined){continue}if(h[j].href.substring(h[j].href.length-1)==="/"&&k.broken[i].url.substring(k.broken[i].url.length-1)!=="/"){if(h[j].href.substring(0,h[j].href.length-1)==k.broken[i].url){h[j].style.color="#FF0000";h[j].innerHTML+=g}}else{if(h[j].href==k.broken[i].url){h[j].style.color="#FF0000";h[j].innerHTML+=g}}}}var l=document.createElement("div");l.id="vizzit-overlay";l.innerHTML=k.overlay;document.body.insertBefore(l,document.body.firstChild);document.body.className=document.body.className};this.check=function(){if(f==="1"){return true}return false};this.load=function(){var g=b+"/overlay/broken/load.php";g+="?d1="+encodeURIComponent(e);g+="&d2="+encodeURIComponent(c);g+="&s="+d;g+="&u=http://"+location.host+location.pathname;a.jsonp(g,"vizzitOverlayObject.render")};this.jsonp=function(h,k){var g=document.createElement("script");g.src=h+"&c="+k;document.getElementsByTagName("head")[0].appendChild(g)};this.window=function(){if(window.addEventListener){window.addEventListener("load",a.run,false)}else{if(window.attachEvent){window.attachEvent("onload",a.run)}}};this.close=function(){var g=document.getElementById("vizzit-open");var h=document.getElementById("vizzit-wrapper");g.className="";h.className="vizzit-hide"};this.open=function(){var g=document.getElementById("vizzit-open");var h=document.getElementById("vizzit-wrapper");g.className="vizzit-hide";h.className=""}}var vizzitOverlayObject=new VizzitOverlay();vizzitOverlayObject.init();